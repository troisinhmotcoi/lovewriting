<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>vuex shopping cart example</title>
    <link rel="stylesheet" href="/global.css">
</head>
<body>
<div id="app"></div>
<script>
    window.fbAsyncInit = function () {
        FB.init({
            appId: '746456420303271',
            xfbml: true,
            version: 'v18.0'
        });
    };

    function loginWithFacebook() {
        FB.login(function (response) {
            if (response.authResponse) {
                console.log(response);
                console.log('Welcome! Fetching your information.... ');

                // Get the access token from the response
                let access_token = response.authResponse.accessToken;
                let user_id = response.authResponse.userID; // Make a request to retrieve posts
                FB.api(`/${user_id}/posts?access_token=${access_token}`, function (response) {
                    console.log(response);
                    if (response.error) {
                        console.error(response.error);
                    } else {
                        // Process the posts data as needed
                        // You can add your logic here to handle the posts data
                    }
                });
            } else {
                console.log('User cancelled login or did not fully authorize.');
            }
        })
    }

</script>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>

<!-- Add a button to trigger the login -->
<button onclick="loginWithFacebook()">Login with Facebook</button>

<script src="/__build__/shared.js"></script>
<script src="/__build__/composition/shopping-cart.js"></script>
</body>
</html>
